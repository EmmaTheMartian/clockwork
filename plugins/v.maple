config:v = 'v';
config:v_main = '.';
config:v_build_dir = 'build';
config:v_build_filename = 'main';

task:run = {
	run = '${v} run ${v_main}';
}

task:build = {
	actions = [
		'mkdir -p ${v_build_dir}',
		'${v} -o ${v_build_dir}/${v_build_filename} ${v_main}'
	]
}

task:build.prod = {
	run = [
		'mkdir -p ${v_build_dir}',
		'${v} -prod -o ${v_build_dir}/${v_build_filename} ${v_main}'
	]
}

task:test = {
	actions = '${v} test ${v_main}';
}
